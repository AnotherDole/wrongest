function showCreate(){$("#startDiv").hide(),$("#createDiv").show()}function showJoin(){$("#startDiv").hide(),$("#joinDiv").show()}function getStatements(){$("#RoomSetup").addClass("hidden"),$("#GameView").removeClass("hidden"),$("#orderDiv").show()}function clearToast(){setTimeout(function(){$("#SetupToasts li:first-child").remove()},5200)}function showButton(){$('input[value="LeastWrong"]:checked').length>0&&$('input[value="MostWrong"]:checked').length>0?$(".button-holder").removeClass("hidden"):$(".button-holder").addClass("hidden")}function updateDeckDescription(){var e=deckData[$("#deck").val()];$("#deckdescription").empty().append(e.description+" Cards: "+e.numCards)}function createroom(){socket.emit("createroom",$("#createUsernameInput").val())}function joinroom(){socket.emit("requestjoin",$("#joinUsernameInput").val(),$("#joinRoomName").val())}function leaveroom(){socket.emit("requestleave")}function startgame(){socket.emit("requeststart",$("#deck").val(),$("#timeLimit").val(),$("#allowRedraw").val(),$("#dealerSelect").val())}function makeDefend(){$("#dealerControls").hide(),socket.emit("makedefend")}function donedefend(){$("#defendDiv").hide(),socket.emit("donedefending"),meDefending=!1}function updateVoteSelectors(){for(var e,t=0,n=0;n<playerList.length;n++)if(e=playerList[n],e!=username){t++;var o=currentStatements[e].quote;$("#voterow"+t).removeClass("hidden"),$("#votequote"+t).empty().text(o),$("#quotecite"+t).empty().text(e),$("#mostwrong"+t).attr("name",e),$("#leastwrong"+t).attr("name",e)}else $("#MyQuote").empty().append(currentStatements[username].quote),$("#MyCite").empty().append(e);for(t++;7>=t;t++)$("#voterow"+t).addClass("hidden")}!function(e){e.fn.shuffle=function(){return this.each(function(){var t=e(this).children().clone(!0);return t.length?e(this).html(e.shuffle(t)):this})},e.shuffle=function(e){for(var t,n,o=e.length;o;t=parseInt(Math.random()*o),n=e[--o],e[o]=e[t],e[t]=n);return e}}(jQuery);
;$("#CreateRoomButton").click(function(){$(".create-or-join").addClass("hidden"),$(".create-screen").removeClass("hidden")}),$("#JoinRoomButton").click(function(){$(".lead-in").hide(),$(".create-or-join").addClass("hidden"),$(".join-screen").removeClass("hidden")}),$("#createPasswordInput").keyup(function(){console.log($(this).val()),""===$(this).val()?$(this).parent().next().children().removeClass("fa-lock").addClass("fa-unlock"):$(this).parent().next().children().removeClass("fa-unlock").addClass("fa-lock")}),$("#roomURL").click(function(){return $(this).select(),!1}),$(".settings-toggle").click(function(){$(this).toggleClass("expanded"),$(this).children(".fa").toggleClass("spin"),$("#leaderControls").toggleClass("hidden visible")}),$(".least-wrong-button").click(function(){$(this).toggleClass("active"),$(this).hasClass("active")?($r=$(this).parent().parent().parent(),$l=$(this).parent().parent().siblings(".votebutton").children("label"),$(this).siblings("input").prop("checked",!0),$r.addClass("least-wrong"),$r.hasClass("most-wrong")&&($r.removeClass("most-wrong"),$l.children("input").prop("checked",!1),$l.children(".most-wrong-button").removeClass("active"))):($(this).siblings("input").prop("checked",!1),$r.removeClass("least-wrong")),showButton()}),$(".most-wrong-button").click(function(){$(this).toggleClass("active"),$(this).hasClass("active")?($r=$(this).parent().parent().parent(),$l=$(this).parent().parent().siblings(".votebutton").children("label"),$(this).siblings("input").prop("checked",!0),$r.addClass("most-wrong"),$r.hasClass("least-wrong")&&($r.removeClass("least-wrong"),$l.children("input").prop("checked",!1),$l.children(".least-wrong-button").removeClass("active"))):($(this).siblings("input").prop("checked",!1),$r.removeClass("most-wrong")),showButton()}),$("#SubmitVotes").click(function(){$("#VotingBooth").addClass("revealed"),$("#SubmitVotes").addClass("hidden"),$("#WaitingAtBoothBecause").text("waiting for other players to vote").removeClass("hidden"),socket.emit("playervotes",$('input[value="MostWrong"]:checked').attr("name"),$('input[value="LeastWrong"]:checked').attr("name"))});
;var socket;socket=location.hostname.indexOf("wrongest.net")>-1?io(location.hostname+":8000"):io(),socket.on("pausegame",function(){$("#GameView").addClass("hidden"),$("#VotingBooth").addClass("hidden"),$("#RoomSetup").removeClass("hidden"),$("#pauseDiv").removeClass("hidden")}),socket.on("deckdata",function(e){deckData=e,$("#deck").empty();for(var s in e)$("#deck").append($("<option/>",{text:s,value:s}));updateDeckDescription()}),socket.on("createresult",function(e){e.success?($("#roomresult").text("Room created!"),username=e.playerName,$("#roomLink").text(e.link),$("#roomURL").add("#pauseRoomURL").val(e.link),$("#createDiv").hide(),$("#roomDiv").show(),$("#startDiv").hide()):(clearToast(),$("#SetupToasts").append('<li class="alert">'+e.message+"</li>"))}),socket.on("joinresult",function(e){if(e.success){if($("#joinDiv").hide(),$("#roomDiv").show(),$("#startDiv").hide(),$("#roomURL").add("#pauseRoomURL").val(e.link),username=e.playerName,socket.emit("requestroomdata",e.roomName),e.waiting){$("#waitingDiv").removeClass("hidden");for(var s=1;8>=s;s++)$("#player"+s).addClass("has-score"),$("#player"+s).append('<span class="player-score" id="playerScore'+s+'"></span>')}}else clearToast(),$("#SetupToasts").append('<li class="alert">'+e.message+"</li>")}),socket.on("leaveresult",function(e){e.success&&(username=!1,$("#roomDiv").hide(),$("#orderDiv").hide(),$("#statementsDiv").hide(),$("#voteResult").hide(),$("#startDiv").show())}),socket.on("updatecurrentroom",function(e,s,a){playerList=e;var o,t=$("#joinRoomMembers").add("#pauseRoomMembers").add("#detailsRoomMembers");t.empty(),t.append("Currently in the room:");for(var r=0;r<e.length;r++)if(t.append(e[r]==s?'<li class="leader">'+e[r]+"</li>":"<li>"+e[r]+"</li>"),o=$("#player"+(r+1)).removeClass("hidden"),e[r]==a?o.addClass("dealer"):o.removeClass("dealer"),$("#playerName"+(r+1)).empty().append(e[r]),o.hasClass("has-score")){var d=playerScores[e[r]];null===d&&(d=0),$("#playerScore"+(r+1)).empty().append(d)}for(var r=e.length+1;8>=r;r++)$("#player"+r).addClass("hidden");s==username?($(".admin-options").show(),$("#restartOption").removeClass("hidden"),e.length<3?($("#RestartButton").addClass("hidden"),$("#RestartGameBother").removeClass("hidden"),$("#StartGameButton").addClass("hidden"),$("#StartGameBother").removeClass("hidden")):($("#RestartButton").removeClass("hidden"),$("#RestartGameBother").addClass("hidden"),$("#StartGameButton").removeClass("hidden"),$("#StartGameBother").addClass("hidden"))):($(".admin-options").hide(),$("#restartOption").addClass("hidden")),a==username?(meDealer=!0,$("#dealerControls").show()):(meDealer=!1,$("#dealerControls").hide())}),socket.on("startresult",function(e){e.success?($("#startresult").text("Game Started"),$("#RoomSetup").addClass("hidden"),$("#GameView").removeClass("hidden")):$("#startresult").text(e.message)}),socket.on("getstatements",function(e){currentStatements=e,$("#VotingBooth").hasClass("hidden")&&($("#roomDiv").hide(),$("#waitingDiv").addClass("hidden"),$("#RoomSetup").addClass("hidden"),$("#GameView").removeClass("hidden"),$("#orderDiv").show())}),socket.on("timetodefend",function(e,s){if(e==username){meDefending=!0,$("#defendDiv").show(),$("#orderDiv").hide();var a=currentStatements[username];$("#statementDiv").empty().text(a.quote),a.score<-1?$("#HardCardSticker").removeClass("hidden"):$("#HardCardSticker").addClass("hidden")}for(var o=1;8>=o;o++)if(!$("#player"+o).hasClass("completed")){$("#player"+o).addClass("active");break}clock.setTime(s),$(".clock-holder").removeClass("hidden"),clock.start()}),socket.on("newdefendcount",function(e,s){if(s&&clock.stop(),meDealer&&$("#dealerControls").show(),$("#orderDiv").show(),e>0)for(var a=playerList.length-e,o=1;8>=o;o++)a>=o?$("#player"+o).addClass("completed"):$("#player"+o).removeClass("completed");else $("#GameView").addClass("hidden"),$("#VotingBooth").removeClass("revealed show-scores"),$("#SubmitVotes").removeClass("hidden"),$("#VotingOptions").shuffle(),$("#WaitingAtBoothBecause").text("").addClass("hidden"),$("#VotingBooth").removeClass("hidden"),$("#VotingBooth").children().removeClass("chosen"),$("#SendVotesButton").addClass("hidden"),$("#voteResult").empty(),updateVoteSelectors();$(".active").removeClass("active")}),socket.on("donefailed",function(e){$("#votestatus").text(e)}),socket.on("votefailed",function(e){$("#voteResult").append(e+"<br>")}),socket.on("receivevote",function(e){$("#voteResult").show();e.voter,e.mostName,e.leastName}),socket.on("roundend",function(e){var s=e.gameData,a=e.playerData;if(1==s.round)for(var o=1;8>=o;o++)$("#player"+o).addClass("has-score"),$("#player"+o).append('<span class="player-score" id="playerScore'+o+'"></span>');for(var t,r,d=0,o=1;o<=playerList.length;o++)$("#player"+o).removeClass("completed"),t=playerList[o-1],r=0===a[t].scoreChange?"":"+"+a[t].scoreChange,playerScores[t]=a[t].newScore,t!=username?(d++,$("#ScoreChange"+d).empty().append(r)):$("#MyScoreChange").empty().append(r);$("#VotingBooth tr").removeClass("most-wrong least-wrong"),$("#WaitingAtBoothBecause").text("Round "+s.round+" complete! Next round begins in 7 seconds."),$("#VotingBooth").toggleClass("show-scores"),setTimeout(function(){$("#WaitingAtBoothBecause").text("").addClass("hidden"),$("#VotingBooth").toggleClass("show-scores"),$("#VotingBooth").addClass("hidden"),gameOver?$("#GameOverScreen").removeClass("hidden").siblings("section").addClass("hidden"):$("#GameView").removeClass("hidden")},7e3)}),socket.on("gameover",function(e){gameOver=!0;for(var s=[],a=0;a<playerList.length;a++)s.push({name:playerList[a],score:playerScores[playerList[a]]});s.sort(function(e,s){return s.score-e.score});for(var a=0;a<playerList.length;a++)$("#place"+(a+1)).removeClass("hidden"),$("#namePlace"+(a+1)).text(s[a].name),$("#scorePlace"+(a+1)).text(s[a].score);for(a++;8>=a;a++)$("#place"+a).addClass("hidden");$("#WrongestQuote").text(e.card),$("#WrongestScore").text(e.cardScore)});
;
//# sourceMappingURL=wrongest.min.js.map